<h1>Quiz</h1>
<div class="container">
  <div class="row">
    <% if @flashcard.image.attached? %>
      <div class="col-md-4" style="margin-left: auto;">
        <!-- Button trigger modal -->
        <button type="button" class="flashcard-image__thumb" data-toggle="modal" data-target="#flashcardImage">
          <%= cl_image_tag @flashcard.image.key,
                            width: 200, height: 100, crop: :fill %>
        </button>
      </div>
    <% end %>
  </div>
  <div class="row">
    <div class="col-12">
      <% if @exam.submit_custom_exam? && !@exam.submitted %>
        <%= link_to "Review exam page",
                    custom_exam_submit_exam_path(@exam),
                    class: "btn btn-success" %>
      <% end %>

    <% if @exam.submitted %>
      <%= link_to "Exam results",
                  custom_exam_results_path(@exam),
                  class: "btn btn-success" %>
    <% end %>
  <%# raise %>
    </div>
    <div class="col-md-12">
      <% case @flashcard.flashcard_type %>
      <% when "multiple_choice" %>
        <%= render "flashcards/multiple_choice", flashcard: @flashcard %>
      <% when "correct_order" %>
        <%= render "flashcards/correct_order", flashcard: @flashcard %>
      <% when "match_answers" %>
        <%= render "flashcards/match_answers", flashcard: @flashcard %>
      <% when "soll_ist" %>
        <%= render "flashcards/soll_ist", flashcard: @flashcard %>
      <% when "table_quiz" %>
        <%= render "flashcards/table_quiz", flashcard: @flashcard %>
      <% end %>
    </div>
  </div>
</div>

<% if @flashcard.image.attached? %>
  <!-- Modal -->
  <div class="modal fade" id="flashcardImage" tabindex="-1" role="dialog" aria-labelledby="flashcardImage" aria-hidden="true">
    <div class="modal-dialog modal-xl" role="img">
      <div class="modal-content">
        <%= cl_image_tag @flashcard.image.key %>
      </div>
    </div>
  </div>
<% end %>