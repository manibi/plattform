<div class="container">
  <div class="row">
    <h2>Results</h2>
  </div>
  <div class="row">
    <div class="col">
      Score: <%= @correct_answers %> / <%= @exam.questions.count %>
    </div>
    <div class="col">
      Right answers: <%= @correct_answers %>
    </div>
    <div class="col">
      Wrong answers: <%= @exam.questions.size - @correct_answers %>
    </div>
        <div class="col">
      Not answered: <%= @exam.unanswered_questions.nil? ? @exam.questions.size : @exam.unanswered_questions %>
    </div>
  </div>

  <% @questions.each.with_index do |q, i| %>
    <div class="row">
     <div class="col">
       <%= link_to "Question #{i + 1}", custom_exam_flashcard_path(@exam, @exam.questions[i]) %>
     </div>
     <div class="col">
      <% if @exam.answer_for(q)&.correct %>
        <b class="bg-success">Correct</b>
      <% elsif !@exam.answer_for(q)&.answered %>
        <span class="bg-warning">Not answered</span>
      <% else %>
        <em class="bg-danger">Wrong</em>
      <% end %>
     </div>
    </div>
  <% end %>
</div>